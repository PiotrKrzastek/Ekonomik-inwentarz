<div class="toast z-50" id="toasts"></div>

<div class="drawer drawer-end">
    <input id="filter-drawer" type="checkbox" class="drawer-toggle" />

    <div class="drawer-content">
        <div class="flex flex-col xl:flex-row justify-center p-4 xl:p-12 gap-4 xl:gap-12">
            <div class="w-full xl:flex-1">
                <div class="xl:hidden mb-4 flex justify-end">
                    <label for="filter-drawer" class="btn btn-primary drawer-button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="4" x2="20" y1="12" y2="12" />
                            <line x1="4" x2="20" y1="6" y2="6" />
                            <line x1="4" x2="20" y1="18" y2="18" />
                        </svg>

                    </label>
                </div>

                <div class="shadow-lg shadow-black rounded bg-base-300 border border-gray-700 w-full h-full p-4"
                    data-purpose="floor">
                    <div class="flex justify-center items-center w-full h-[70vh] xl:h-[700px]" data-purpose="map">
                        <div class="w-full h-full [&_svg]:w-full [&_svg]:h-full [&_svg]:object-contain"
                            hx-get="{{ url_for('static', filename='images/maps/suterena.svg') }}" hx-trigger="load">
                            <div class="w-full h-full flex justify-center items-center">
                                <span class="loading loading-spinner loading-xl"></span>
                            </div>
                        </div>
                    </div>
                    <div data-purpose="list" class="w-full h-[70vh] xl:h-[700px] hidden z-10">
                        <div class="overflow-x-auto overflow-y-auto h-full">
                            <table class="table table-pin-rows">
                                <!-- head -->
                                <thead>
                                    <tr>
                                        <th class="w-[5%] text-right align-middle">#</th>
                                        <th class="w-[15%] text-left align-middle">Sala</th>
                                        <th class="w-[30%] text-left align-middle">Piętro</th>
                                        <th class="w-[35%] text-left align-middle">Opiekun</th>
                                        <th class="w-[15%] text-center align-middle">Przejdź</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for obj in rooms['suterena'] %}
                                    <tr>
                                        <th class="text-right align-middle">{{ loop.index }}.</th>
                                        <td class="text-left align-middle">
                                            {% if obj.get('name', '-').startswith('kor') %}
                                            korytarz {{ obj.get('name', '-').replace('kor', 'nr ') }}
                                            {% else %}
                                            {{ obj.get('name', '-') }}
                                            {% endif %}
                                        </td>
                                        <td class="text-left align-middle">{{ obj.get('floor', '-') }}</td>
                                        <td class="text-left align-middle">
                                            <form hx-post="{{ url_for('rooms.RoomList') }}" hx-trigger="submit"
                                                id="form_{{ obj._id }}" data-purpose="roomForm" hx-swap="none"
                                                hx-indicator="#form_{{ obj._id }} .inplace-indicator"
                                                hx-disabled-elt="find button">
                                                <input type="hidden" class="hidden" name="room_id"
                                                    value="{{ obj._id }}">
                                                <div class="join">
                                                    <input type="text" placeholder="Dodaj opiekuna" name="teacher_name"
                                                        class="input input-ghost join-item focus:outline-none min-w-[185px]"
                                                        value="{{ obj.get('keeper', '-') }}" />
                                                    <div class="tooltip" data-tip="Zapisz">
                                                        <button class="join-item btn btn-primary btn-soft">
                                                            <span data-purpose="icon-indicator"
                                                                class="inplace-indicator loading loading-spinner loading-xs hidden"></span>
                                                            <span class="button-text"> <svg data-purpose="icon-default"
                                                                    xmlns="http://www.w3.org/2000/svg" width="16"
                                                                    height="16" viewBox="0 0 24 24" fill="none"
                                                                    stroke="currentColor" stroke-width="2"
                                                                    stroke-linecap="round" stroke-linejoin="round"
                                                                    class="lucide lucide-save-icon lucide-save">
                                                                    <path
                                                                        d="M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z" />
                                                                    <path
                                                                        d="M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7" />
                                                                    <path d="M7 3v4a1 1 0 0 0 1 1h7" />
                                                                </svg></span>
                                                        </button>
                                                    </div>
                                                </div>
                                            </form>
                                        </td>
                                        <td class="flex justify-center align-center"><a
                                                href="/urzadzenie/lista/{{ obj.name }}"
                                                class="btn btn-primary btn-soft"><svg xmlns="http://www.w3.org/2000/svg"
                                                    width="16" height="16" viewBox="0 0 24 24" fill="none"
                                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                                    stroke-linejoin="round"
                                                    class="lucide lucide-arrow-big-right-icon lucide-arrow-big-right">
                                                    <path
                                                        d="M11 9a1 1 0 0 0 1-1V5.061a1 1 0 0 1 1.811-.75l6.836 6.836a1.207 1.207 0 0 1 0 1.707l-6.836 6.835a1 1 0 0 1-1.811-.75V16a1 1 0 0 0-1-1H5a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1z" />
                                                </svg></a></td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="shadow-lg shadow-black rounded bg-base-300 border border-gray-700 w-full p-4 hidden"
                    data-purpose="floor">
                    <div class="flex justify-center items-center w-full h-[70vh] xl:h-[700px]" data-purpose="map">
                        <div class="w-full h-full [&_svg]:w-full [&_svg]:h-full [&_svg]:object-contain"
                            hx-get="{{ url_for('static', filename='images/maps/parter.svg') }}" hx-trigger="load">
                            <div class="w-full h-full flex justify-center items-center">
                                <span class="loading loading-spinner loading-xl"></span>
                            </div>
                        </div>
                    </div>
                    <div data-purpose="list" class="w-full h-[70vh] xl:h-[700px] hidden z-10">
                        <div class="overflow-x-auto overflow-y-auto h-full">
                            <table class="table table-pin-rows">
                                <!-- head -->
                                <thead>
                                    <tr>
                                        <th class="w-[5%] text-right align-middle">#</th>
                                        <th class="w-[15%] text-left align-middle">Sala</th>
                                        <th class="w-[30%] text-left align-middle">Piętro</th>
                                        <th class="w-[35%] text-left align-middle">Opiekun</th>
                                        <th class="w-[15%] text-center align-middle">Przejdź</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for obj in rooms['parter'] %}
                                    <tr>
                                        <th class="text-right align-middle">{{ loop.index }}.</th>
                                        <td class="text-left align-middle">
                                            {% if obj.get('name', '-').startswith('kor') %}
                                            korytarz {{ obj.get('name', '-').replace('kor', 'nr ') }}
                                            {% else %}
                                            {{ obj.get('name', '-') }}
                                            {% endif %}
                                        </td>
                                        <td class="text-left align-middle">{{ obj.get('floor', '-') }}</td>
                                        <td class="text-left align-middle">
                                            <form hx-post="{{ url_for('rooms.RoomList') }}" hx-trigger="submit"
                                                id="form_{{ obj._id }}" data-purpose="roomForm" hx-swap="none"
                                                hx-indicator="#form_{{ obj._id }} .inplace-indicator"
                                                hx-disabled-elt="find button">
                                                <input type="hidden" class="hidden" name="room_id"
                                                    value="{{ obj._id }}">
                                                <div class="join">
                                                    <input type="text" placeholder="Dodaj opiekuna" name="teacher_name"
                                                        class="input input-ghost join-item focus:outline-none min-w-[185px]"
                                                        value="{{ obj.get('keeper', '-') }}" />
                                                    <div class="tooltip" data-tip="Zapisz">
                                                        <button class="join-item btn btn-primary btn-soft">
                                                            <span data-purpose="icon-indicator"
                                                                class="inplace-indicator loading loading-spinner loading-xs hidden"></span>
                                                            <span class="button-text">
                                                                <svg data-purpose="icon-default"
                                                                    xmlns="http://www.w3.org/2000/svg" width="16"
                                                                    height="16" viewBox="0 0 24 24" fill="none"
                                                                    stroke="currentColor" stroke-width="2"
                                                                    stroke-linecap="round" stroke-linejoin="round"
                                                                    class="lucide lucide-save-icon lucide-save">
                                                                    <path
                                                                        d="M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z" />
                                                                    <path
                                                                        d="M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7" />
                                                                    <path d="M7 3v4a1 1 0 0 0 1 1h7" />
                                                                </svg>
                                                            </span>
                                                        </button>
                                                    </div>
                                                </div>
                                            </form>
                                        </td>
                                        <td class="flex justify-center align-center"><a
                                                href="/urzadzenie/lista/{{ obj.name }}"
                                                class="btn btn-primary btn-soft"><svg xmlns="http://www.w3.org/2000/svg"
                                                    width="16" height="16" viewBox="0 0 24 24" fill="none"
                                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                                    stroke-linejoin="round"
                                                    class="lucide lucide-arrow-big-right-icon lucide-arrow-big-right">
                                                    <path
                                                        d="M11 9a1 1 0 0 0 1-1V5.061a1 1 0 0 1 1.811-.75l6.836 6.836a1.207 1.207 0 0 1 0 1.707l-6.836 6.835a1 1 0 0 1-1.811-.75V16a1 1 0 0 0-1-1H5a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1z" />
                                                </svg></a></td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="shadow-lg shadow-black rounded bg-base-300 border border-gray-700 w-full p-4 hidden"
                    data-purpose="floor">
                    <div class="flex justify-center items-center w-full h-[70vh] xl:h-[700px]" data-purpose="map">
                        <div class="w-full h-full [&_svg]:w-full [&_svg]:h-full [&_svg]:object-contain"
                            hx-get="{{ url_for('static', filename='images/maps/pierwsze_piętro.svg') }}"
                            hx-trigger="load">
                            <div class="w-full h-full flex justify-center items-center">
                                <span class="loading loading-spinner loading-xl"></span>
                            </div>
                        </div>
                    </div>
                    <div data-purpose="list" class="w-full h-[70vh] xl:h-[700px] hidden z-10">
                        <div class="overflow-x-auto overflow-y-auto h-full">
                            <table class="table table-pin-rows">
                                <!-- head -->
                                <thead>
                                    <tr>
                                        <th class="w-[5%] text-right align-middle">#</th>
                                        <th class="w-[15%] text-left align-middle">Sala</th>
                                        <th class="w-[30%] text-left align-middle">Piętro</th>
                                        <th class="w-[35%] text-left align-middle">Opiekun</th>
                                        <th class="w-[15%] text-center align-middle">Przejdź</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for obj in rooms['pierwsze piętro'] %}
                                    <tr>
                                        <th class="text-right align-middle">{{ loop.index }}.</th>
                                        <td class="text-left align-middle">
                                            {% if obj.get('name', '-').startswith('kor') %}
                                            korytarz {{ obj.get('name', '-').replace('kor', 'nr ') }}
                                            {% else %}
                                            {{ obj.get('name', '-') }}
                                            {% endif %}
                                        </td>
                                        <td class="text-left align-middle">{{ obj.get('floor', '-') }}</td>
                                        <td class="text-left align-middle">
                                            <form hx-post="{{ url_for('rooms.RoomList') }}" hx-trigger="submit"
                                                id="form_{{ obj._id }}" data-purpose="roomForm" hx-swap="none"
                                                hx-indicator="#form_{{ obj._id }} .inplace-indicator"
                                                hx-disabled-elt="find button">
                                                <input type="hidden" class="hidden" name="room_id"
                                                    value="{{ obj._id }}">
                                                <div class="join">
                                                    <input type="text" placeholder="Dodaj opiekuna" name="teacher_name"
                                                        class="input input-ghost join-item focus:outline-none min-w-[185px]"
                                                        value="{{ obj.get('keeper', '-') }}" />
                                                    <div class="tooltip" data-tip="Zapisz">
                                                        <button class="join-item btn btn-primary btn-soft">
                                                            <span
                                                                    data-purpose="icon-indicator"
                                                                    class="inplace-indicator loading loading-spinner loading-xs hidden"></span>
                                                            <span class="button-text"> <svg data-purpose="icon-default"
                                                                    xmlns="http://www.w3.org/2000/svg" width="16"
                                                                    height="16" viewBox="0 0 24 24" fill="none"
                                                                    stroke="currentColor" stroke-width="2"
                                                                    stroke-linecap="round" stroke-linejoin="round"
                                                                    class="lucide lucide-save-icon lucide-save">
                                                                    <path
                                                                        d="M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z" />
                                                                    <path
                                                                        d="M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7" />
                                                                    <path d="M7 3v4a1 1 0 0 0 1 1h7" />
                                                                </svg></span>
                                                        </button>
                                                    </div>
                                                </div>
                                            </form>
                                        </td>
                                        <td class="flex justify-center align-center"><a
                                                href="/urzadzenie/lista/{{ obj.name }}"
                                                class="btn btn-primary btn-soft"><svg xmlns="http://www.w3.org/2000/svg"
                                                    width="16" height="16" viewBox="0 0 24 24" fill="none"
                                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                                    stroke-linejoin="round"
                                                    class="lucide lucide-arrow-big-right-icon lucide-arrow-big-right">
                                                    <path
                                                        d="M11 9a1 1 0 0 0 1-1V5.061a1 1 0 0 1 1.811-.75l6.836 6.836a1.207 1.207 0 0 1 0 1.707l-6.836 6.835a1 1 0 0 1-1.811-.75V16a1 1 0 0 0-1-1H5a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1z" />
                                                </svg></a></td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="shadow-lg shadow-black rounded bg-base-300 border border-gray-700 w-full p-4 hidden"
                    data-purpose="floor">
                    <div class="flex justify-center items-center w-full h-[70vh] xl:h-[700px]" data-purpose="map">
                        <div class="w-full h-full [&_svg]:w-full [&_svg]:h-full [&_svg]:object-contain"
                            hx-get="{{ url_for('static', filename='images/maps/drugie_piętro.svg') }}"
                            hx-trigger="load">
                            <div class="w-full h-full flex justify-center items-center">
                                <span class="loading loading-spinner loading-xl"></span>
                            </div>
                        </div>
                    </div>
                    <div data-purpose="list" class="w-full h-[70vh] xl:h-[700px] hidden z-10">
                        <div class="overflow-x-auto overflow-y-auto h-full">
                            <table class="table table-pin-rows table-fixed">
                                <!-- head -->
                                <thead>
                                    <tr>
                                        <th class="w-[5%] text-right align-middle">#</th>
                                        <th class="w-[15%] text-left align-middle">Sala</th>
                                        <th class="w-[30%] text-left align-middle">Piętro</th>
                                        <th class="w-[35%] text-left align-middle">Opiekun</th>
                                        <th class="w-[15%] text-center align-middle">Przejdź</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for obj in rooms['drugie piętro'] %}
                                    <tr>
                                        <th class="text-right align-middle">{{ loop.index }}.</th>
                                        <td class="text-left align-middle">
                                            {% if obj.get('name', '-').startswith('kor') %}
                                            korytarz {{ obj.get('name', '-').replace('kor', 'nr ') }}
                                            {% else %}
                                            {{ obj.get('name', '-') }}
                                            {% endif %}
                                        </td>
                                        <td class="text-left align-middle">{{ obj.get('floor', '-') }}</td>
                                        <td class="text-left align-middle">
                                            <form hx-post="{{ url_for('rooms.RoomList') }}" hx-trigger="submit"
                                                id="form_{{ obj._id }}" data-purpose="roomForm" hx-swap="none"
                                                hx-indicator="#form_{{ obj._id }} .inplace-indicator"
                                                hx-disabled-elt="find button">
                                                <input type="hidden" class="hidden" name="room_id"
                                                    value="{{ obj._id }}">
                                                <div class="join">
                                                    <input type="text" placeholder="Dodaj opiekuna" name="teacher_name"
                                                        class="input input-ghost join-item focus:outline-none min-w-[185px]"
                                                        value="{{ obj.get('keeper', '-') }}" />
                                                    <div class="tooltip" data-tip="Zapisz">
                                                        <button class="join-item btn btn-primary btn-soft">
                                                            <span
                                                                    data-purpose="icon-indicator"
                                                                    class="inplace-indicator loading loading-spinner loading-xs hidden"></span>
                                                            <span class="button-text">
                                                                <svg data-purpose="icon-default"
                                                                    xmlns="http://www.w3.org/2000/svg" width="16"
                                                                    height="16" viewBox="0 0 24 24" fill="none"
                                                                    stroke="currentColor" stroke-width="2"
                                                                    stroke-linecap="round" stroke-linejoin="round"
                                                                    class="lucide lucide-save-icon lucide-save">
                                                                    <path
                                                                        d="M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z" />
                                                                    <path
                                                                        d="M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7" />
                                                                    <path d="M7 3v4a1 1 0 0 0 1 1h7" />
                                                                </svg>
                                                            </span>
                                                        </button>
                                                    </div>
                                                </div>
                                            </form>
                                        </td>
                                        <td class="flex justify-center align-center"><a
                                                href="/urzadzenie/lista/{{ obj.name }}"
                                                class="btn btn-primary btn-soft"><svg xmlns="http://www.w3.org/2000/svg"
                                                    width="16" height="16" viewBox="0 0 24 24" fill="none"
                                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                                    stroke-linejoin="round"
                                                    class="lucide lucide-arrow-big-right-icon lucide-arrow-big-right">
                                                    <path
                                                        d="M11 9a1 1 0 0 0 1-1V5.061a1 1 0 0 1 1.811-.75l6.836 6.836a1.207 1.207 0 0 1 0 1.707l-6.836 6.835a1 1 0 0 1-1.811-.75V16a1 1 0 0 0-1-1H5a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1z" />
                                                </svg></a></td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Filtry na dużych ekranach (normalny flex) -->
            <div class="hidden xl:block">
                <div
                    class="bg-base-300 shadow-lg shadow-black rounded border border-gray-700 flex flex-col gap-4 p-4 h-fit sticky top-4">
                    <label class="flex gap-2 w-full justify-center">
                        <span class="label-text">Mapka</span>
                        <label class="toggle text-base-content">
                            <input id="viewModeCheckbox" type="checkbox" />
                            <svg aria-label="enabled" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-map-icon lucide-map">
                                <path
                                    d="M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z" />
                                <path d="M15 5.764v15" />
                                <path d="M9 3.236v15" />
                            </svg>
                            <svg aria-label="disabled" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-list-icon lucide-list">
                                <path d="M3 5h.01" />
                                <path d="M3 12h.01" />
                                <path d="M3 19h.01" />
                                <path d="M8 5h13" />
                                <path d="M8 12h13" />
                                <path d="M8 19h13" />
                            </svg>
                        </label>
                        <span class="label-text">Lista</span>
                    </label>

                    <div class="join join-vertical w-full max-w-sm">
                        <button data-index="0" data-purpose="floorButton"
                            class="btn btn-primary btn-outline btn-active join-item">Suterena</button>
                        <button data-index="1" data-purpose="floorButton"
                            class="btn btn-primary btn-outline join-item">Parter</button>
                        <button data-index="2" data-purpose="floorButton"
                            class="btn btn-primary btn-outline join-item">Pierwsze piętro</button>
                        <button data-index="3" data-purpose="floorButton"
                            class="btn btn-primary btn-outline join-item">Drugie piętro</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Drawer z filtrami dla małych ekranów -->
    <div class="drawer-side z-50">
        <label for="filter-drawer" aria-label="close sidebar" class="drawer-overlay"></label>
        <div class="bg-base-300 min-h-full w-80 p-4">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold">Filtry</h3>
                <label for="filter-drawer" class="btn btn-sm btn-circle btn-ghost">✕</label>
            </div>

            <div class="flex flex-col gap-4">
                <label class="flex gap-2 w-full justify-center">
                    <span class="label-text">Mapka</span>
                    <label class="toggle text-base-content">
                        <input id="viewModeCheckboxMobile" type="checkbox" />
                        <svg aria-label="enabled" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-map-icon lucide-map">
                            <path
                                d="M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z" />
                            <path d="M15 5.764v15" />
                            <path d="M9 3.236v15" />
                        </svg>
                        <svg aria-label="disabled" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-list-icon lucide-list">
                            <path d="M3 5h.01" />
                            <path d="M3 12h.01" />
                            <path d="M3 19h.01" />
                            <path d="M8 5h13" />
                            <path d="M8 12h13" />
                            <path d="M8 19h13" />
                        </svg>
                    </label>
                    <span class="label-text">Lista</span>
                </label>

                <div class="join join-vertical w-full">
                    <button data-index="0" data-purpose="floorButtonMobile"
                        class="btn btn-primary btn-outline btn-active join-item">Suterena</button>
                    <button data-index="1" data-purpose="floorButtonMobile"
                        class="btn btn-primary btn-outline join-item">Parter</button>
                    <button data-index="2" data-purpose="floorButtonMobile"
                        class="btn btn-primary btn-outline join-item">Pierwsze piętro</button>
                    <button data-index="3" data-purpose="floorButtonMobile"
                        class="btn btn-primary btn-outline join-item">Drugie piętro</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    (function () {
        const floorContainers = document.querySelectorAll('[data-purpose="floor"]')
        let floor = floorContainers[0]

        // Funkcja do obsługi zmiany piętra
        function handleFloorChange(index, buttonsSelector) {
            document.querySelectorAll(buttonsSelector).forEach(btn => {
                btn.classList.remove('btn-active')
            })
            document.querySelectorAll(buttonsSelector)[index].classList.add('btn-active')

            floor = floorContainers[index]
            floorContainers.forEach(element => element.classList.add('hidden'))
            floor.classList.remove('hidden')
        }

        // Desktop buttons
        document.querySelectorAll('button[data-purpose="floorButton"]').forEach((element) => {
            element.addEventListener('click', (event) => {
                const index = Number(element.dataset.index)
                handleFloorChange(index, 'button[data-purpose="floorButton"]')
                // Synchronizuj mobile buttons
                document.querySelectorAll('button[data-purpose="floorButtonMobile"]').forEach(btn => {
                    btn.classList.remove('btn-active')
                })
                document.querySelectorAll('button[data-purpose="floorButtonMobile"]')[index].classList.add('btn-active')
            })
        })

        // Mobile buttons
        document.querySelectorAll('button[data-purpose="floorButtonMobile"]').forEach((element) => {
            element.addEventListener('click', (event) => {
                const index = Number(element.dataset.index)
                handleFloorChange(index, 'button[data-purpose="floorButtonMobile"]')
                // Synchronizuj desktop buttons
                document.querySelectorAll('button[data-purpose="floorButton"]').forEach(btn => {
                    btn.classList.remove('btn-active')
                })
                document.querySelectorAll('button[data-purpose="floorButton"]')[index].classList.add('btn-active')
                // Zamknij drawer
                document.getElementById('filter-drawer').checked = false
            })
        })

        // Funkcja do obsługi toggle widoku
        function handleViewToggle(checked) {
            if (checked) {
                document.querySelectorAll('[data-purpose="map"]').forEach(el => el.classList.add('hidden'))
                document.querySelectorAll('[data-purpose="list"]').forEach(el => el.classList.remove('hidden'))
            } else {
                document.querySelectorAll('[data-purpose="map"]').forEach(el => el.classList.remove('hidden'))
                document.querySelectorAll('[data-purpose="list"]').forEach(el => el.classList.add('hidden'))
            }
        }

        // Desktop toggle
        const checkbox = document.getElementById('viewModeCheckbox')
        checkbox.addEventListener('change', (event) => {
            handleViewToggle(checkbox.checked)
            document.getElementById('viewModeCheckboxMobile').checked = checkbox.checked
        })

        // Mobile toggle
        const checkboxMobile = document.getElementById('viewModeCheckboxMobile')
        checkboxMobile.addEventListener('change', (event) => {
            handleViewToggle(checkboxMobile.checked)
            document.getElementById('viewModeCheckbox').checked = checkboxMobile.checked
        })
    })()
</script>